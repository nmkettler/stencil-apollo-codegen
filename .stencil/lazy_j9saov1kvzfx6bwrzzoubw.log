import { registerInstance as __stencil_registerInstance } from "@stencil/core";
import { h } from "@stencil/core";
import ApolloClient from 'apollo-boost';
import gql from 'graphql-tag';
// import { ApolloProvider, Query, Mutation } from 'stencil-apollo';
const client = new ApolloClient({
    uri: 'https://graphql-voter-app.herokuapp.com/'
    // uri: 'http://localhost:5000/graphql'
});
const ALL_POSTS_QUERY = gql `
  query allPosts {
    posts {
      id
      title
      votes
      author {
        id
        firstName
        lastName
      }
    }
  }
`;
export const MyComponentWithCodegen = class {
    constructor(hostRef) {
        __stencil_registerInstance(this, hostRef);
    }
    renderUpvoteButton(postId) {
        return (h("apollo-upvote-posts", { renderer: upvotePost => h("button", { onClick: () => upvotePost({ variables: { postId } }) }, "Upvote") }));
    }
    renderTestButton() {
        return (h("div", null, "Test Text"));
    }
    render() {
        return (h("apollo-provider", { client: client }, this.renderTestButton(), h("apollo-all-postss", { renderer: ({ data, loading }) => {
                console.log('taco', data);
                if (loading) {
                    return 'Loading...';
                }
                return (h("ul", null, data.posts.map(post => (h("li", null, post.title, " by ", post.author.firstName, " ", post.author.lastName, " (", post.votes, " votes)", ' ', this.renderUpvoteButton(post.id))))));
            } })));
    }
    static get style() { return "STYLE_TEXT_PLACEHOLDER:my-component-with-codegen"; }
};
