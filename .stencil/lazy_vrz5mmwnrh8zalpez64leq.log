import { registerInstance as __stencil_registerInstance } from "@stencil/core";
import { h } from "@stencil/core";
import { ApolloProvider, Query } from 'stencil-apollo';
import ApolloClient from 'apollo-boost';
import gql from 'graphql-tag';
// const ALL_POSTS_QUERY = gql`
//   query allPosts {
//     posts {
//       id
//       title
//       votes
//       author {
//         id
//         firstName
//         lastName
//       }
//     }
//   }
// `;
const LAUNCHES_QUERY = gql `
  query LaunchesQuery {
    launches {
      flight_number
      mission_name
      launch_date_local
      launch_success
    }
  }
`;
const client = new ApolloClient({
    // uri: 'https://graphql-voter-app.herokuapp.com/'
    uri: 'http://localhost:5000/graphql'
});
export const MyComponentWithCodegen = class {
    constructor(hostRef) {
        __stencil_registerInstance(this, hostRef);
    }
    renderUpvoteButton(postId) {
        return (h("apollo-upvote-post", { renderer: upvotePost => h("button", { onClick: () => upvotePost({ variables: { postId } }) }, "Upvote") }));
    }
    renderTestButton() {
        return (h("div", null, "Test Text"));
    }
    render() {
        return [
            h(ApolloProvider, { client: client }, h(Query, { query: LAUNCHES_QUERY }, ({ data, loading }) => {
                console.log('burrito', data);
                if (loading)
                    return 'Loading...';
                return (h("ul", null, data['posts'].map(post => (h("li", null, post.title, ' ', "by ", post.author.firstName, " ", post.author.lastName, ' ', "(", post.votes, " votes)", ' ', this.renderUpvoteButton(post.id))))));
            }))
        ];
        // return (
        //   <apollo-provider client={client}>
        //     {this.renderTestButton()}
        //     <apollo-all-posts
        //       renderer={({ data, loading }) => {
        //         console.log('taco', data)
        //         if (loading) {
        //           return 'Loading...';
        //         }
        //         return (
        //           <ul>
        //             {data.posts.map(post => (
        //               <li>
        //                 {post.title} by {post.author.firstName} {post.author.lastName} ({post.votes} votes){' '}
        //                 {this.renderUpvoteButton(post.id)}
        //               </li>
        //             ))}
        //           </ul>
        //         );
        //       }}/>
        //   </apollo-provider>
        // );
    }
    static get style() { return "STYLE_TEXT_PLACEHOLDER:my-component-with-codegen"; }
};
